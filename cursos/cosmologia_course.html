<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmología - Academia Científica</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax para LaTeX -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <style>
        .course-container {
            display: flex;
            max-width: 1200px;
            margin: auto;
            padding: 20px;
            gap: 20px;
        }
        .lessons-panel {
            width: 35%;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .content-panel {
            width: 65%;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .lesson-header {
            display: flex;
            justify-content: space-between;
            cursor: pointer;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        .subtopics-list {
            list-style: none;
            padding-left: 15px;
            display: none;
        }
        .lesson-item.expanded .subtopics-list {
            display: block;
        }
        .subtopic-item {
            padding: 5px;
            cursor: pointer;
        }
        .subtopic-item.active {
            background: #e3f2fd;
            border-radius: 4px;
        }
        .video-container iframe {
            width: 100%;
            height: 350px;
            border-radius: 8px;
        }
        #current-lesson-desc {
            white-space: pre-line;
        }
        .MathJax {
            color: inherit !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>Academia Científica</h1>
            <p>Cosmología</p>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html">Volver al inicio</a></li>
            </ul>
        </nav>
    </header>

    <main class="course-container">
        <!-- Panel izquierdo: Temario -->
        <aside class="lessons-panel">
            <h2>Temario</h2>
            <ul class="lessons-list">
                <!-- Las lecciones se generarán dinámicamente con JavaScript -->
            </ul>
        </aside>

        <!-- Panel derecho: Video + contenido -->
        <section class="content-panel">
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/VIDEO_ID_1" frameborder="0" allowfullscreen></iframe>
            </div>
            <h2 id="current-lesson-title">Gravedad Newtoniana</h2>
            <div id="current-lesson-desc">
                Introducción a la gravedad newtoniana aplicada a cosmología...
            </div>
        </section>
    </main>

    <script>
        // Datos del curso
        const courseData = {
            id: 3,
            title: "Cosmología",
            lessons: [
                {
                    id: 1,
                    title: "Gravedad Newtoniana",
                    duration: "50 min",
                    videoId: "VIDEO_ID_1",
                    description: "Fundamentos de la gravedad newtoniana en cosmología",
                    subtopics: [
                        {
                            title: "Teorema de Newton",
                            duration: "15 min",
                            description: `<h3>Teorema de Newton Revisitado</h3>
                            <p><strong>Teorema fundamental:</strong> Una partícula dentro de una cáscara esférica no experimenta fuerza gravitacional neta.</p>

                            <h4>Demostración</h4>
                            \\[
                            \\mathbf{F} = -Gm \\int \\frac{\\rho(\\mathbf{r}')(\\mathbf{r} - \\mathbf{r}')}{|\\mathbf{r} - \\mathbf{r}'|^3} d^3r'
                            \\]
                            <p>Para una cáscara de radio R y densidad superficial σ:</p>
                            \\[
                            \\mathbf{F} = -2\\pi Gm\\sigma R^2 \\int_0^\\pi \\frac{(r - R\\cos\\theta)\\sin\\theta}{(R^2 + r^2 - 2Rr\\cos\\theta)^{3/2}} d\\theta = 0
                            \\]

                            <h4>Implicaciones Cosmológicas</h4>
                            <ul>
                                <li>Permite ignorar masa exterior al radio de interés</li>
                                <li>El universo puede modelarse como capas esféricas concéntricas</li>
                                <li>Consistente con el principio cosmológico (homogeneidad)</li>
                            </ul>

                            <h4>Para Distribuciones Esféricas</h4>
                            \\[
                            \\mathbf{F}(r) = -\\frac{GM(r)m}{r^2}
                            \\]
                            <p>donde \\(M(r) = 4\\pi \\int_0^r \\rho(r')r'^2 dr'\\)</p>

                            <p>En un universo homogéneo (\\(\\rho\\) constante):</p>
                            \\[
                            M(r) = \\frac{4\\pi}{3}\\rho r^3 \\quad \\Rightarrow \\quad \\mathbf{F}(r) = -\\frac{4\\pi G\\rho}{3}m\\mathbf{r}
                            \\]`
                        },
                        {
                            title: "Ecuación de Friedmann",
                            duration: "20 min",
                            description: `<h3>Ecuación de Friedmann</h3>
                            <h4>Configuración Inicial</h4>
                            <p>Consideramos:</p>
                            <ul>
                                <li>Partícula de prueba m en la superficie de una esfera de radio físico \\(r(t) = a(t)x\\)</li>
                                <li>Masa interior: \\(M = \\frac{4\\pi}{3}\\rho(t)r^3(t)\\)</li>
                                <li>Energía total por unidad de masa: \\(U/m = \\text{const}\\)</li>
                            </ul>

                            <h4>Desarrollo Matemático</h4>
                            \\[
                            \\frac{U}{m} = \\frac{1}{2}\\dot{r}^2 - \\frac{GM}{r}
                            \\]
                            <p>Sustituyendo \\(r = ax\\) y \\(M = \\frac{4\\pi}{3}\\rho a^3x^3\\):</p>
                            \\[
                            \\frac{U}{m} = \\frac{1}{2}(\\dot{a}x)^2 - \\frac{G}{ax}\\frac{4\\pi}{3}\\rho a^3x^3 = x^2\\left(\\frac{1}{2}\\dot{a}^2 - \\frac{4\\pi G}{3}\\rho a^2\\right)
                            \\]

                            <p>Definiendo \\(k \\equiv -\\frac{2U}{mx^2c^2}\\) (adimensional):</p>
                            \\[
                            \\left(\\frac{\\dot{a}}{a}\\right)^2 = \\frac{8\\pi G}{3}\\rho - \\frac{kc^2}{a^2}
                            \\]

                            <h4>Interpretación Física</h4>
                            <ul>
                                <li>\\(\\dot{a}/a\\): Tasa de expansión (parámetro de Hubble)</li>
                                <li>\\(\\frac{8\\pi G}{3}\\rho\\): Fuente gravitacional</li>
                                <li>\\(k/a^2\\): Término de curvatura/energía total</li>
                            </ul>

                            <p><strong>Valores de k:</strong></p>
                            <ul>
                                <li>\\(k > 0\\): Energía negativa (universo cerrado)</li>
                                <li>\\(k = 0\\): Energía cero (universo plano)</li>
                                <li>\\(k < 0\\): Energía positiva (universo abierto)</li>
                            </ul>`
                        },
                        {
                            title: "Parámetro de Curvatura",
                            duration: "15 min",
                            description: `<h3>Parámetro de Curvatura k</h3>
                            <h4>Normalización Matemática</h4>
                            <p>Tres convenciones comunes:</p>
                            <ol>
                                <li>\\(k \\in \\{-1, 0, 1\\}\\) con \\(a\\) dimensional (ej. en Mpc)</li>
                                <li>\\(k\\) dimensional (en Mpc\\(^{-2}\\)) con \\(a\\) adimensional</li>
                                <li>Reescalado: \\(\\hat{a} = a/\\sqrt{|k|}\\)</li>
                            </ol>

                            <p>Con reescalado, la ecuación de Friedmann se convierte en:</p>
                            \\[
                            \\left(\\frac{\\dot{\\hat{a}}}{\\hat{a}}\\right)^2 = \\frac{8\\pi G}{3}\\rho \\pm \\frac{1}{\\hat{a}^2}
                            \\]

                            <h4>Significado Geométrico</h4>
                            <table border="1" style="margin: 20px 0; border-collapse: collapse; width: 100%;">
                                <tr style="background-color: #f0f0f0;">
                                    <th style="padding: 8px;">k</th>
                                    <th style="padding: 8px;">Geometría</th>
                                    <th style="padding: 8px;">Volumen</th>
                                    <th style="padding: 8px;">Destino</th>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; text-align: center;">+1</td>
                                    <td style="padding: 8px;">Esférica</td>
                                    <td style="padding: 8px;">Finito</td>
                                    <td style="padding: 8px;">Colapso</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; text-align: center;">0</td>
                                    <td style="padding: 8px;">Plana</td>
                                    <td style="padding: 8px;">Infinito</td>
                                    <td style="padding: 8px;">Expansión eterna</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; text-align: center;">-1</td>
                                    <td style="padding: 8px;">Hiperbólica</td>
                                    <td style="padding: 8px;">Infinito</td>
                                    <td style="padding: 8px;">Expansión eterna</td>
                                </tr>
                            </table>

                            <h4>Relación con la Energía Total</h4>
                            \\[
                            k = -\\frac{2U}{mc^2x^2}
                            \\]
                            <ul>
                                <li>\\(U > 0\\) (energía positiva) ⇒ \\(k < 0\\) (universo abierto)</li>
                                <li>\\(U = 0\\) ⇒ \\(k = 0\\) (universo crítico)</li>
                                <li>\\(U < 0\\) ⇒ \\(k > 0\\) (universo cerrado)</li>
                            </ul>`
                        }
                    ]
                },
                {
                    id: 2,
                    title: "Ecuación del Fluido",
                    duration: "40 min",
                    videoId: "VIDEO_ID_2",
                    description: "Termodinámica del universo en expansión",
                    subtopics: [
                        {
                            title: "Primera Ley de la Termodinámica",
                            duration: "15 min",
                            description: `<h3>Primera Ley de la Termodinámica</h3>
                            <h4>Origen Termodinámico</h4>
                            <p>Primera ley para procesos adiabáticos (\\(\\delta Q = 0\\)):</p>
                            \\[
                            dE = -pdV
                            \\]

                            <p>Para un volumen comóvil \\(V = V_0 a^3\\):</p>
                            \\[
                            d(\\rho c^2 V) = -pdV
                            \\]

                            <h4>Desarrollo</h4>
                            \\[
                            Vd\\rho + \\rho dV = -\\frac{p}{c^2}dV
                            \\]
                            \\[
                            \\frac{d\\rho}{\\rho + p/c^2} = -\\frac{dV}{V} = -3\\frac{da}{a}
                            \\]

                            <h4>Ecuación de Continuidad</h4>
                            \\[
                            \\dot{\\rho} + 3\\frac{\\dot{a}}{a}\\left(\\rho + \\frac{p}{c^2}\\right) = 0
                            \\]

                            <p>Esta ecuación describe la conservación de energía en un universo en expansión.</p>`
                        },
                        {
                            title: "Ecuaciones de Estado",
                            duration: "15 min",
                            description: `<h3>Ecuaciones de Estado</h3>
                            <p>La ecuación de estado relaciona presión y densidad:</p>
                            \\[
                            p = w\\rho c^2
                            \\]

                            <h4>Casos Especiales</h4>
                            <table border="1" style="margin: 20px 0; border-collapse: collapse; width: 100%;">
                                <tr style="background-color: #f0f0f0;">
                                    <th style="padding: 8px;">Tipo</th>
                                    <th style="padding: 8px;">Ecuación de Estado</th>
                                    <th style="padding: 8px;">w</th>
                                    <th style="padding: 8px;">Solución</th>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Materia</td>
                                    <td style="padding: 8px;">\\(p = 0\\)</td>
                                    <td style="padding: 8px; text-align: center;">0</td>
                                    <td style="padding: 8px;">\\(\\rho \\propto a^{-3}\\)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Radiación</td>
                                    <td style="padding: 8px;">\\(p = \\rho c^2/3\\)</td>
                                    <td style="padding: 8px; text-align: center;">1/3</td>
                                    <td style="padding: 8px;">\\(\\rho \\propto a^{-4}\\)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Energía Oscura</td>
                                    <td style="padding: 8px;">\\(p = -\\rho c^2\\)</td>
                                    <td style="padding: 8px; text-align: center;">-1</td>
                                    <td style="padding: 8px;">\\(\\rho = \\text{const}\\)</td>
                                </tr>
                            </table>

                            <h4>Derivación de Soluciones</h4>
                            <p>Para \\(p = w\\rho c^2\\):</p>
                            \\[
                            \\dot{\\rho} + 3\\frac{\\dot{a}}{a}\\rho(1 + w) = 0
                            \\]
                            \\[
                            \\frac{d\\rho}{\\rho} = -3(1+w)\\frac{da}{a}
                            \\]
                            \\[
                            \\rho \\propto a^{-3(1+w)}
                            \\]`
                        },
                        {
                            title: "Conservación de Energía",
                            duration: "10 min",
                            description: `<h3>Conservación de Energía</h3>
                            <h4>Interpretación Física</h4>
                            <p>La ecuación del fluido cosmológico:</p>
                            \\[
                            \\dot{\\rho} + 3\\frac{\\dot{a}}{a}\\left(\\rho + \\frac{p}{c^2}\\right) = 0
                            \\]

                            <p>tiene dos términos importantes:</p>
                            <ul>
                                <li><strong>\\(\\dot{\\rho}\\):</strong> Cambio en la densidad de energía</li>
                                <li><strong>\\(3\\frac{\\dot{a}}{a}\\left(\\rho + \\frac{p}{c^2}\\right)\\):</strong> Trabajo realizado por la expansión</li>
                            </ul>

                            <h4>Análisis por Componente</h4>
                            <p><strong>Materia (p = 0):</strong></p>
                            <ul>
                                <li>La dilución es puramente geométrica: \\(\\rho \\propto a^{-3}\\)</li>
                                <li>La energía total \\(E = \\rho c^2 V\\) se conserva si \\(V \\propto a^3\\)</li>
                            </ul>

                            <p><strong>Radiación (\\(p = \\rho c^2/3\\)):</strong></p>
                            <ul>
                                <li>Dilución geométrica + corrimiento al rojo: \\(\\rho \\propto a^{-4}\\)</li>
                                <li>Factor extra \\(a^{-1}\\) viene del estiramiento de longitudes de onda</li>
                            </ul>

                            <p><strong>Energía Oscura (\\(p = -\\rho c^2\\)):</strong></p>
                            <ul>
                                <li>Densidad constante a pesar de la expansión</li>
                                <li>La presión negativa "genera" energía</li>
                            </ul>`
                        }
                    ]
                },
                {
                    id: 3,
                    title: "Ecuación de Aceleración",
                    duration: "35 min",
                    videoId: "VIDEO_ID_3",
                    description: "Dinámica de la expansión cósmica",
                    subtopics: [
                        {
                            title: "Derivación Completa",
                            duration: "15 min",
                            description: `<h3>Derivación de la Ecuación de Aceleración</h3>
                            <h4>Método 1: Desde la Ecuación de Friedmann</h4>
                            <p>Diferenciamos la ecuación de Friedmann respecto al tiempo:</p>
                            \\[
                            \\frac{d}{dt}\\left[\\left(\\frac{\\dot{a}}{a}\\right)^2\\right] = \\frac{8\\pi G}{3}\\dot{\\rho} + \\frac{2kc^2\\dot{a}}{a^3}
                            \\]

                            <p>El lado izquierdo:</p>
                            \\[
                            2\\frac{\\dot{a}}{a}\\left(\\frac{\\ddot{a}}{a} - \\frac{\\dot{a}^2}{a^2}\\right) = 2H(\\ddot{a}/a - H^2)
                            \\]

                            <p>Usando la ecuación del fluido \\(\\dot{\\rho} = -3H(\\rho + p/c^2)\\):</p>
                            \\[
                            2H(\\ddot{a}/a - H^2) = -8\\pi GH\\left(\\rho + \\frac{p}{c^2}\\right) + \\frac{2kc^2H}{a^2}
                            \\]

                            <p>Sustituyendo \\(H^2 = \\frac{8\\pi G}{3}\\rho - \\frac{kc^2}{a^2}\\):</p>
                            \\[
                            \\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}\\left(\\rho + \\frac{3p}{c^2}\\right)
                            \\]`
                        },
                        {
                            title: "Interpretación Relativista",
                            duration: "10 min",
                            description: `<h3>Interpretación Relativista</h3>
                            <h4>Densidad Gravitacional Efectiva</h4>
                            <p>El término \\(\\rho + 3p/c^2\\) aparece en RG como la traza del tensor energía-momento:</p>
                            \\[
                            T^\\mu_\\mu = -\\rho + 3p
                            \\]

                            <h4>¿Por qué la Presión Gravita?</h4>
                            <p>En Relatividad General:</p>
                            <ul>
                                <li>La presión es una fuente de gravedad (no solo la densidad)</li>
                                <li>\\(\\rho + 3p/c^2\\) es la "densidad gravitacional efectiva"</li>
                                <li>Presión positiva aumenta la atracción gravitacional</li>
                                <li>Presión negativa (como en \\(\\Lambda\\)) causa repulsión</li>
                            </ul>

                            <h4>Condición para Aceleración</h4>
                            \\[
                            \\ddot{a} > 0 \\quad \\Leftrightarrow \\quad \\rho + \\frac{3p}{c^2} < 0 \\quad \\Leftrightarrow \\quad w < -\\frac{1}{3}
                            \\]

                            <p>Ejemplos:</p>
                            <ul>
                                <li>Materia: \\(w = 0\\) → Desaceleración</li>
                                <li>Radiación: \\(w = 1/3\\) → Desaceleración</li>
                                <li>Energía Oscura: \\(w = -1\\) → Aceleración</li>
                            </ul>`
                        },
                        {
                            title: "Análisis de Casos",
                            duration: "10 min",
                            description: `<h3>Análisis de Casos Específicos</h3>
                            <h4>Universo Dominado por Materia</h4>
                            <p>Con \\(p = 0\\):</p>
                            \\[
                            \\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}\\rho < 0
                            \\]
                            <p>Resultado: Siempre desacelera</p>

                            <h4>Universo Dominado por Radiación</h4>
                            <p>Con \\(p = \\rho c^2/3\\):</p>
                            \\[
                            \\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}\\left(\\rho + \\frac{3\\rho c^2/3}{c^2}\\right) = -\\frac{8\\pi G}{3}\\rho < 0
                            \\]
                            <p>Resultado: Desacelera más fuerte que la materia</p>

                            <h4>Universo con Constante Cosmológica</h4>
                            <p>Con \\(p = -\\rho c^2\\):</p>
                            \\[
                            \\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}(\\rho - 3\\rho) = \\frac{8\\pi G}{3}\\rho > 0
                            \\]
                            <p>Resultado: ¡Acelera!</p>

                            <h4>Comparación de Efectos</h4>
                            <table border="1" style="margin: 20px 0; border-collapse: collapse; width: 100%;">
                                <tr style="background-color: #f0f0f0;">
                                    <th style="padding: 8px;">Componente</th>
                                    <th style="padding: 8px;">\\(\\rho + 3p/c^2\\)</th>
                                    <th style="padding: 8px;">Efecto</th>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Materia</td>
                                    <td style="padding: 8px;">\\(\\rho\\)</td>
                                    <td style="padding: 8px;">Desaceleración</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Radiación</td>
                                    <td style="padding: 8px;">\\(2\\rho\\)</td>
                                    <td style="padding: 8px;">Desaceleración fuerte</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Energía Oscura</td>
                                    <td style="padding: 8px;">\\(-2\\rho\\)</td>
                                    <td style="padding: 8px;">Aceleración</td>
                                </tr>
                            </table>`
                        }
                    ]
                },
                {
                    id: 4,
                    title: "Conexión con Relatividad General",
                    duration: "30 min",
                    videoId: "VIDEO_ID_4",
                    description: "Limitaciones y conexiones con la teoría completa",
                    subtopics: [
                        {
                            title: "Limitaciones Newtonianas",
                            duration: "10 min",
                            description: `<h3>Limitaciones del Enfoque Newtoniano</h3>
                            <h4>Lo que Falla</h4>
                            <p>El enfoque newtoniano <strong>no puede</strong>:</p>
                            <ul>
                                <li>Explicar por qué k debe ser uniforme en todo el espacio</li>
                                <li>Describir perturbaciones inhomogéneas correctamente</li>
                                <li>Incorporar efectos no estáticos (ondas gravitacionales)</li>
                                <li>Distinguir entre curvatura espacial y temporal</li>
                                <li>Justificar rigurosamente las ecuaciones de estado relativistas</li>
                            </ul>

                            <h4>Lo que Funciona</h4>
                            <p>Para un universo FLRW (Friedmann-Lemaître-Robertson-Walker):</p>
                            <ul>
                                <li>Las ecuaciones newtonianas son <strong>idénticas</strong> a las de RG</li>
                                <li>La intuición física es correcta</li>
                                <li>Los resultados cuantitativos son exactos</li>
                            </ul>

                            <h4>Razón de la Coincidencia</h4>
                            <p>La homogeneidad e isotropía imponen restricciones tan fuertes que:</p>
                            <ul>
                                <li>Solo quedan dos grados de libertad: \\(a(t)\\) y \\(k\\)</li>
                                <li>La RG se reduce esencialmente a un problema 1D</li>
                                <li>El análisis newtoniano capta la esencia física</li>
                            </ul>`
                        },
                        {
                            title: "Ecuaciones de Einstein",
                            duration: "10 min",
                            description: `<h3>Ecuaciones de Einstein</h3>
                            <h4>Forma General</h4>
                            \\[
                            G_{\\mu\\nu} = \\frac{8\\pi G}{c^4}T_{\\mu\\nu}
                            \\]

                            <p>Donde:</p>
                            <ul>
                                <li>\\(G_{\\mu\\nu} = R_{\\mu\\nu} - \\frac{1}{2}Rg_{\\mu\\nu}\\): Tensor de Einstein (geometría)</li>
                                <li>\\(T_{\\mu\\nu}\\): Tensor energía-momento (materia/energía)</li>
                                <li>\\(R_{\\mu\\nu}\\): Tensor de Ricci</li>
                                <li>\\(R\\): Escalar de curvatura</li>
                            </ul>

                            <h4>Para la Métrica FLRW</h4>
                            <p>La métrica:</p>
                            \\[
                            ds^2 = -c^2dt^2 + a^2(t)\\left[\\frac{dr^2}{1-kr^2} + r^2(d\\theta^2 + \\sin^2\\theta d\\phi^2)\\right]
                            \\]

                            <p>Produce las ecuaciones de Friedmann:</p>
                            \\[
                            \\left(\\frac{\\dot{a}}{a}\\right)^2 = \\frac{8\\pi G}{3}\\rho - \\frac{kc^2}{a^2}
                            \\]
                            \\[
                            \\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}\\left(\\rho + \\frac{3p}{c^2}\\right)
                            \\]

                            <p>¡Exactamente las mismas ecuaciones que obtuvimos con Newton!</p>`
                        },
                        {
                            title: "Ventajas de RG",
                            duration: "10 min",
                            description: `<h3>Ventajas de la Relatividad General</h3>
                            <h4>Conceptos que Solo RG Explica</h4>
                            
                            <p><strong>1. Naturaleza de k:</strong></p>
                            <ul>
                                <li>En Newton: k es una constante de integración arbitraria</li>
                                <li>En RG: k es la curvatura espacial intrínseca</li>
                                <li>RG explica por qué k debe ser el mismo en todas partes</li>
                            </ul>

                            <p><strong>2. Ondas Gravitacionales:</strong></p>
                            <ul>
                                <li>Perturbaciones de la métrica que se propagan a velocidad c</li>
                                <li>No tienen análogo en gravedad newtoniana</li>
                                <li>Detectadas experimentalmente (LIGO, 2015)</li>
                            </ul>

                            <p><strong>3. Horizonte de Eventos:</strong></p>
                            <ul>
                                <li>Distancia máxima de la que podemos recibir información</li>
                                <li>Concepto inherentemente relativista</li>
                                <li>Relacionado con la velocidad finita de la luz</li>
                            </ul>

                            <p><strong>4. Corrimiento al Rojo Cosmológico:</strong></p>
                            \\[
                            1 + z = \\frac{a(t_0)}{a(t_e)}
                            \\]
                            <ul>
                                <li>En RG: Estiramiento del espacio-tiempo</li>
                                <li>En Newton: Interpretación como efecto Doppler (incompleta)</li>
                            </ul>

                            <h4>Marco Conceptual Completo</h4>
                            <p>RG proporciona:</p>
                            <ul>
                                <li>Unificación de espacio, tiempo y gravedad</li>
                                <li>Principio de equivalencia</li>
                                <li>Geometría dinámica del espacio-tiempo</li>
                                <li>Marco para teoría cuántica de campos en espacio curvo</li>
                            </ul>`
                        }
                    ]
                },
                {
                    id: 5,
                    title: "Aplicaciones y Problemas",
                    duration: "45 min",
                    videoId: "VIDEO_ID_5",
                    description: "Ejemplos resueltos y casos prácticos",
                    subtopics: [
                        {
                            title: "Evolución Temporal",
                            duration: "15 min",
                            description: `<h3>Evolución Temporal del Factor de Escala</h3>
                            <h4>Universo Dominado por Materia (k=0)</h4>
                            <p>Con \\(\\rho \\propto a^{-3}\\) y k = 0:</p>
                            \\[
                            \\left(\\frac{\\dot{a}}{a}\\right)^2 = \\frac{8\\pi G}{3}\\rho_0 a_0^3 a^{-3}
                            \\]

                            <p>Solución:</p>
                            \\[
                            a(t) \\propto t^{2/3}
                            \\]
                            \\[
                            H(t) = \\frac{\\dot{a}}{a} = \\frac{2}{3t}
                            \\]

                            <h4>Universo Dominado por Radiación (k=0)</h4>
                            <p>Con \\(\\rho \\propto a^{-4}\\):</p>
                            \\[
                            a(t) \\propto t^{1/2}
                            \\]
                            \\[
                            H(t) = \\frac{1}{2t}
                            \\]

                            <h4>Universo con Constante Cosmológica</h4>
                            <p>Con \\(\\rho = \\rho_\\Lambda =\\) constante y k = 0:</p>
                            \\[
                            \\left(\\frac{\\dot{a}}{a}\\right)^2 = \\frac{8\\pi G}{3}\\rho_\\Lambda \\equiv H_\\Lambda^2
                            \\]

                            <p>Solución:</p>
                            \\[
                            a(t) = a_0 e^{H_\\Lambda(t-t_0)}
                            \\]
                            <p>¡Expansión exponencial!</p>

                            <h4>Comparación de Escalas</h4>
                            <table border="1" style="margin: 20px 0; border-collapse: collapse; width: 100%;">
                                <tr style="background-color: #f0f0f0;">
                                    <th style="padding: 8px;">Era</th>
                                    <th style="padding: 8px;">\\(a(t)\\)</th>
                                    <th style="padding: 8px;">\\(H(t)\\)</th>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Radiación</td>
                                    <td style="padding: 8px;">\\(t^{1/2}\\)</td>
                                    <td style="padding: 8px;">\\(1/(2t)\\)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Materia</td>
                                    <td style="padding: 8px;">\\(t^{2/3}\\)</td>
                                    <td style="padding: 8px;">\\(2/(3t)\\)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px;">Energía Oscura</td>
                                    <td style="padding: 8px;">\\(e^{Ht}\\)</td>
                                    <td style="padding: 8px;">\\(H\\) (constante)</td>
                                </tr>
                            </table>`
                        },
                        {
                            title: "Densidad Crítica",
                            duration: "15 min",
                            description: `<h3>Densidad Crítica del Universo</h3>
                            <h4>Definición</h4>
                            <p>Para k = 0, la ecuación de Friedmann da:</p>
                            \\[
                            H^2 = \\frac{8\\pi G}{3}\\rho_c
                            \\]

                            <p>Por lo tanto:</p>
                            \\[
                            \\rho_c = \\frac{3H^2}{8\\pi G}
                            \\]

                            <h4>Valor Actual</h4>
                            <p>Con \\(H_0 \\approx 70\\) km/s/Mpc:</p>
                            \\[
                            \\rho_{c,0} \\approx 9.47 \\times 10^{-27} \\text{ kg/m}^3 \\approx 5.6 \\text{ protones/m}^3
                            \\]

                            <h4>Parámetro de Densidad</h4>
                            <p>Se define:</p>
                            \\[
                            \\Omega \\equiv \\frac{\\rho}{\\rho_c}
                            \\]

                            <p>La ecuación de Friedmann se reescribe:</p>
                            \\[
                            \\Omega - 1 = \\frac{kc^2}{a^2H^2}
                            \\]

                            <h4>Interpretación Geométrica</h4>
                            <ul>
                                <li>\\(\\Omega > 1\\) ⇒ \\(k > 0\\) → Universo cerrado</li>
                                <li>\\(\\Omega = 1\\) ⇒ \\(k = 0\\) → Universo plano</li>
                                <li>\\(\\Omega < 1\\) ⇒ \\(k < 0\\) → Universo abierto</li>
                            </ul>

                            <h4>Parámetros de Densidad Actuales</h4>
                            <p>Observaciones (Planck 2018):</p>
                            <ul>
                                <li>\\(\\Omega_{m,0} \\approx 0.31\\) (materia)</li>
                                <li>\\(\\Omega_{\\Lambda,0} \\approx 0.69\\) (energía oscura)</li>
                                <li>\\(\\Omega_{r,0} \\approx 10^{-4}\\) (radiación)</li>
                                <li>\\(\\Omega_{\\text{total}} \\approx 1.00\\) (universo plano)</li>
                            </ul>`
                        },
                        {
                            title: "Problema de la Edad",
                            duration: "15 min",
                            description: `<h3>Problema de la Edad del Universo</h3>
                            <h4>Definición</h4>
                            <p>La edad del universo es:</p>
                            \\[
                            t_0 = \\int_0^{a_0} \\frac{da}{\\dot{a}} = \\int_0^{a_0} \\frac{da}{aH}
                            \\]

                            <h4>Caso: Solo Materia (k=0)</h4>
                            <p>Con \\(a(t) = a_0(t/t_0)^{2/3}\\):</p>
                            \\[
                            t_0 = \\frac{2}{3H_0}
                            \\]

                            <p>Para \\(H_0 = 70\\) km/s/Mpc:</p>
                            \\[
                            t_0 \\approx 9.3 \\text{ Gyr}
                            \\]

                            <p><strong>Problema:</strong> ¡Estrellas más viejas tienen ~13 Gyr!</p>

                            <h4>Solución: Energía Oscura</h4>
                            <p>Para un universo con materia + \\(\\Lambda\\):</p>
                            \\[
                            t_0 = \\frac{1}{H_0}\\int_0^1 \\frac{dx}{\\sqrt{\\Omega_m x^{-1} + \\Omega_\\Lambda x^2}}
                            \\]

                            <p>Con \\(\\Omega_m = 0.31\\) y \\(\\Omega_\\Lambda = 0.69\\):</p>
                            \\[
                            t_0 \\approx 13.8 \\text{ Gyr}
                            \\]

                            <p>¡Consistente con todas las observaciones!</p>

                            <h4>Tiempo de Hubble</h4>
                            <p>Se define:</p>
                            \\[
                            t_H \\equiv \\frac{1}{H_0} \\approx 14.0 \\text{ Gyr}
                            \\]

                            <p>Relación con la edad real:</p>
                            <ul>
                                <li>Solo materia: \\(t_0 = (2/3)t_H\\)</li>
                                <li>Solo radiación: \\(t_0 = (1/2)t_H\\)</li>
                                <li>Con \\(\\Lambda\\): \\(t_0 \\approx 0.96 t_H\\)</li>
                            </ul>`
                        }
                    ]
                }
            ]
        };

        function renderLessons() {
            const lessonsList = document.querySelector('.lessons-list');
            lessonsList.innerHTML = '';

            courseData.lessons.forEach(lesson => {
                const lessonItem = document.createElement('li');
                lessonItem.className = 'lesson-item';
                
                const lessonHeader = document.createElement('div');
                lessonHeader.className = 'lesson-header';
                lessonHeader.innerHTML = `
                    <span class="lesson-title">${lesson.title}</span>
                    <span class="lesson-duration">${lesson.duration}</span>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                `;
                
                const subtopicsList = document.createElement('ul');
                subtopicsList.className = 'subtopics-list';

                lesson.subtopics.forEach(subtopic => {
                    const subtopicItem = document.createElement('li');
                    subtopicItem.className = 'subtopic-item';
                    subtopicItem.innerHTML = `
                        <span class="subtopic-title">${subtopic.title}</span>
                        <span class="subtopic-duration">${subtopic.duration}</span>
                    `;
                    subtopicItem.addEventListener('click', (e) => {
                        e.stopPropagation();
                        document.querySelectorAll('.subtopic-item').forEach(item => item.classList.remove('active'));
                        subtopicItem.classList.add('active');
                        loadSubtopicContent(lesson, subtopic);
                    });
                    subtopicsList.appendChild(subtopicItem);
                });

                lessonHeader.addEventListener('click', () => {
                    lessonItem.classList.toggle('expanded');
                    const icon = lessonHeader.querySelector('.toggle-icon');
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });

                lessonItem.appendChild(lessonHeader);
                lessonItem.appendChild(subtopicsList);
                lessonsList.appendChild(lessonItem);
            });
        }

        function loadSubtopicContent(lesson, subtopic) {
            const videoContainer = document.querySelector('.video-container iframe');
            const lessonTitle = document.getElementById('current-lesson-title');
            const lessonDesc = document.getElementById('current-lesson-desc');
            
            videoContainer.src = `https://www.youtube.com/embed/${lesson.videoId}?autoplay=1`;
            lessonTitle.textContent = `${lesson.title} - ${subtopic.title}`;
            lessonDesc.innerHTML = subtopic.description;
            
            // Forzar el renderizado de MathJax después de cargar el contenido
            if (window.MathJax) {
                MathJax.typesetPromise([lessonDesc]).catch(err => console.log('Error al renderizar MathJax:', err));
            }
        }

        function loadLesson(lesson) {
            const videoContainer = document.querySelector('.video-container iframe');
            const lessonTitle = document.getElementById('current-lesson-title');
            const lessonDesc = document.getElementById('current-lesson-desc');

            videoContainer.src = `https://www.youtube.com/embed/${lesson.videoId}?autoplay=1`;
            lessonTitle.textContent = lesson.title;
            lessonDesc.textContent = lesson.description;
            
            if (window.MathJax) {
                MathJax.typesetPromise([lessonDesc]).catch(err => console.log('Error al renderizar MathJax:', err));
            }
        }

        // Esperar a que MathJax esté completamente cargado
        function waitForMathJax() {
            if (window.MathJax && window.MathJax.typesetPromise) {
                renderLessons();
                if (courseData.lessons.length > 0) {
                    loadLesson(courseData.lessons[0]);
                    // Activar el primer subtema del primer tema
                    const firstSubtopic = document.querySelector('.subtopic-item');
                    if (firstSubtopic) {
                        firstSubtopic.classList.add('active');
                    }
                }
            } else {
                setTimeout(waitForMathJax, 100);
            }
        }

        document.addEventListener('DOMContentLoaded', waitForMathJax);
    </script>
</body>
</html>